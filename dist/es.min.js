var t;!function(t){t.info="info",t.success="success",t.warning="warning",t.error="error"}(t||(t={}));var o="toast",e={oldestFirst:!0,text:"Toast is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"top",positionLeft:!1,position:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""},type:""},n=function(){function n(t){this.toastElement=null,this._rootElement=null,this.timeOut=null,this.version="1.0.0",this.options=e,this.toastElement=null,this._rootElement=document.body,this._init(t)}return n.prototype.show=function(){var t=this;if(this.toastElement=this._build(),"string"==typeof this.options.selector?this._rootElement=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||this.options.selector instanceof ShadowRoot?this._rootElement=this.options.selector:this._rootElement=document.body,!this._rootElement)throw"Root element is not defined";return this._rootElement.insertBefore(this.toastElement,this._rootElement.firstChild),this._reposition(),this.options.duration>0&&(this.timeOut=window.setTimeout((function(){t._removeElement(t.toastElement)}),this.options.duration)),this},n.prototype.hide=function(){this.timeOut&&clearTimeout(this.timeOut),this._removeElement(this.toastElement)},n.prototype._init=function(t){this.options=Object.assign(e,t)},n.prototype._build=function(){var e=this;if(!this.options)throw"Toast is not initialized";var n=this.options,i=n.className,s=n.position,a=n.style,c=n.gravity,r=n.ariaLive,l=n.node,p=n.text,d=n.type,u=n.close,m=n.stopOnFocus,f=n.duration,h=n.destination,v=n.offset,E=document.createElement("div");for(var w in E.className="toast on ".concat(i," toast-").concat(s," ").concat(o,"-").concat(c),a)E.style[w]=a[w];r&&E.setAttribute("aria-live",r);var y=document.createElement("div");if(y.className="toast-content",E.appendChild(y),l&&l.nodeType===Node.ELEMENT_NODE)y.appendChild(l);else{var _=document.createElement("span");if(this.options.escapeMarkup?(_.innerText=p,y.appendChild(_)):(_.innerHTML=p,y.appendChild(_)),d){var b=document.createElement("i");b.className="toast-icon ".concat(t[d]?"toast-icon--".concat(t[d]):""),_&&_.parentNode.insertBefore(b,_)}}if(!0===u){var g=document.createElement("button");g.type="button",g.setAttribute("aria-label","Close"),g.className="toast-close",g.innerHTML='<i class="toast-close-i"></i>',g.addEventListener("click",(function(t){t.stopPropagation(),e._removeElement(e.toastElement),e.timeOut&&window.clearTimeout(e.timeOut)}));var N=window.innerWidth>0?window.innerWidth:screen.width;"left"==s&&N>360?E.insertAdjacentElement("afterbegin",g):y.appendChild(g)}if(m&&f>0&&(E.addEventListener("mouseover",(function(){e.timeOut&&window.clearTimeout(e.timeOut)})),E.addEventListener("mouseleave",(function(){e.timeOut=window.setTimeout((function(){e._removeElement(E)}),f)}))),void 0!==h&&E.addEventListener("click",(function(t){t.stopPropagation(),!0===e.options.newWindow?window.open(h,"_blank"):window.location=h})),"function"==typeof this.options.onClick&&void 0===h&&E.addEventListener("click",(function(t){t.stopPropagation(),e.options.onClick()})),"object"==typeof v){var L=this._getAxisOffsetAValue("x",this.options),O=this._getAxisOffsetAValue("y",this.options),x="left"==s?L:"-".concat(L),T=c=="".concat(o,"-top")?O:"-".concat(O);E.style.transform="translate(".concat(x,",").concat(T,")")}return E},n.prototype._removeElement=function(t){var o=this;t.className=t.className.replace(" on",""),window.setTimeout((function(){o.options.node&&o.options.node.parentNode&&o.options.node.parentNode.removeChild(o.options.node),t.parentNode&&t.parentNode.removeChild(t),o.options.callback.call(t),o._reposition()}),400)},n.prototype._reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},i={top:15,bottom:15},s=this._rootElement.querySelectorAll(".toast"),a=0;a<s.length;a++){var c=s[a];console.log(c.classList,"".concat(o,"-top"),c.classList.contains("".concat(o,"-top"))),t=c.classList.contains("".concat(o,"-top"))?"".concat(o,"-top"):"".concat(o,"-bottom");var r=c.offsetHeight;t=t.slice(6);console.log(t),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(c.style[t]="".concat(i[t],"px"),i[t]+=r+15):!0===s[a].classList.contains("toast-left")?(c.style[t]="".concat(e[t],"px"),e[t]+=r+15):(c.style[t]="".concat(n[t],"px"),n[t]+=r+15)}},n.prototype._getAxisOffsetAValue=function(t,o){return o.offset[t]?isNaN(o.offset[t])?o.offset[t]:"".concat(o.offset[t],"px"):"0px"},n}();function i(t){return new n(t)}export{t as ToastMsgType,i as default};
